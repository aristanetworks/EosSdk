
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mpls_vrf_label &mdash; Arista EOS SDK 2.13.0 reference</title>
    
    <link rel="stylesheet" href="_static/eossdk.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.13.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Arista EOS SDK 2.13.0 reference" href="index.html" />
    <link rel="next" title="neighbor_table" href="neighbor_table.html" />
    <link rel="prev" title="mpls_route" href="mpls_route.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="neighbor_table.html" title="neighbor_table"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mpls_route.html" title="mpls_route"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 2.13.0 reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mpls-vrf-label">
<h1><strong>mpls_vrf_label</strong><a class="headerlink" href="#mpls-vrf-label" title="Permalink to this headline">¶</a></h1>
<p>MPLS Static VRF label management.</p>
<p>This module manages VRF label decapsulation for traffic arriving at the switch (on any interface).</p>
<p>In this example, a static VRF label route is configured for MPLS traffic arriving at the switch with a top label of 16. This label is mapped to a corresponding VRF &#8220;foo&#8221;.</p>
<p><pre class="literal-block">
* // Configures a static VRF label route
* <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>eos::mpls_vrf_label_t</em></a> vrf_label(mpls_label_t(16), &quot;foo&quot;);
* mgr-&gt;mpls_vrf_label_set(vrf_label);
* 
</pre>
</p>
<p>By configuring a static VRF label route, the switch will decapsulate traffic matching the specified top label and forward normally based on the inner protocol headers and the routes within the specified VRF. IPv4, IPv6, and MPLS are the only inner protocols presently supported. Static MPLS routes are only available within the &#8216;default&#8217; VRF  when the inner protocol is MPLS, the specified VRF is ignored. </p>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__iter__t"></span><em>class</em> <tt class="descname">mpls_vrf_label_iter_t</tt></dt>
<dd><em>#include &lt;mpls_vrf_label.h&gt;</em><p>An iterator that yields a <tt class="docutils literal"><a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em><span class="pre">mpls_vrf_label_t</span></em></a></tt> for each configured VRF label route. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__iter__t_1a6fa850f8408f37dac99a3f87b2a06548"></span><tt class="descname">mpls_vrf_label_iter_t</tt><big>(</big>mpls_vrf_label_iter_impl * <em>const</em><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__iter__t_1a64ce8365102ee5e6292a1ee7e87a44d4"></span>friend class <tt class="descname">mpls_vrf_label_iter_impl</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr"></span><em>class</em> <tt class="descname">mpls_vrf_label_mgr</tt></dt>
<dd><em>#include &lt;mpls_vrf_label.h&gt;</em><p>A manager of &#8216;mpls static vrf-label&#8217; configurations.</p>
<p>Create one of these via sdk object prior to starting the agent main loop. When your <a class="reference internal" href="agent.html#eossdkclasseos_1_1agent__handler_1ad558b16ee9a283bd9b153400743c4b1c"><em>eos::agent_handler::on_initialized</em></a> virtual function is called, the manager is valid for use. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1ad1ee2a9c6a23e5e52ffbd88e0e6a1eee"></span>virtual <tt class="descname">~mpls_vrf_label_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1ac6fef90566bf9586154b02cd5c8c9f5d"></span>virtual void <tt class="descname">resync_init</tt><big>(</big><big>)</big> = 0</dt>
<dd><p>Enter resync mode.</p>
<p>At this point the <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__mgr"><em>mpls_vrf_label_mgr</em></a> will start tracking which routes you&#8217;ve added. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1a609a05e241c92d231886ab0775e9256b"></span>virtual void <tt class="descname">resync_complete</tt><big>(</big><big>)</big> = 0</dt>
<dd><p>Exit resync mode.</p>
<p>All VRF label routes in Sysdb that you haven&#8217;t re-added during this resync period will now be deleted. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1ae59e12d7599341148e8541d0496085f6"></span>virtual <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__iter__t"><em>mpls_vrf_label_iter_t</em></a> <tt class="descname">mpls_vrf_label_iter</tt><big>(</big><big>)</big> const = 0</dt>
<dd><p>Iterates over all the VRF label routes currently configured. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1a727624f3c6b123a19b0fd9b16e967bc1"></span>virtual <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> <tt class="descname">mpls_vrf_label</tt><big>(</big><a class="reference internal" href="mpls.html#eossdkclasseos_1_1mpls__label__t"><em>mpls_label_t</em></a> const &amp;<big>)</big> const = 0</dt>
<dd><p>Returns the current configuration of a VRF label route</p>
<p>If no VRF label route exists, this returns an empty <tt class="docutils literal"><span class="pre">mpls_vrf_label_t()</span></tt> </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1abc53085281820b1fa5e2c4f6bec12ee6"></span>virtual void <tt class="descname">mpls_vrf_label_set</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> const &amp;<big>)</big> = 0</dt>
<dd><p>Adds the specified VRF label route to the system configuration.</p>
<p>Either creates or updates a VRF label route (keyed by the label). </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1a51bbf1d056e5c638858ae898646a6f6d"></span>virtual void <tt class="descname">mpls_vrf_label_del</tt><big>(</big><a class="reference internal" href="mpls.html#eossdkclasseos_1_1mpls__label__t"><em>mpls_label_t</em></a> const &amp;<big>)</big> = 0</dt>
<dd><p>Removes the VRF label route from the configuration.</p>
<p>If the specified label does not exist, no action is taken. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1a6dd5b773415a7c40837315b000120132"></span><tt class="descname">mpls_vrf_label_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__mgr_1ad2068b757e946b497596a1b911387183"></span><tt class="descname">mpls_vrf_label_mgr</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<div class="section" id="type-definitions-in-mpls-vrf-label">
<h2>Type definitions in <strong>mpls_vrf_label</strong><a class="headerlink" href="#type-definitions-in-mpls-vrf-label" title="Permalink to this headline">¶</a></h2>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t"></span><em>class</em> <tt class="descname">mpls_vrf_label_t</tt></dt>
<dd><em>#include &lt;mpls_vrf_label.h&gt;</em><p>A static VRF label decap route configuration model. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a37aca9514073c81112d6b0b46dba988d"></span><tt class="descname">mpls_vrf_label_t</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a2ad006b1641c5517d5120cf1f327bdf2"></span><tt class="descname">mpls_vrf_label_t</tt><big>(</big><a class="reference internal" href="mpls.html#eossdkclasseos_1_1mpls__label__t"><em>mpls_label_t</em></a> <em>label</em>, std::string <em>vrf_name</em><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1ad6730ddd782ad67c6d694b4ad45d6fc4"></span><a class="reference internal" href="mpls.html#eossdkclasseos_1_1mpls__label__t"><em>mpls_label_t</em></a> <tt class="descname">label</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;label&#8217;: the decap label. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1ac9e4135ce9f742f08a2fe2fb02e55782"></span>std::string <tt class="descname">vrf_name</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;vrf_name&#8217;: the name of the VRF. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a6699b0425a18f99bf0756dc8a36ddcb8"></span>bool <tt class="descname">operator==</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1ac1b538255ff9cf125dca4ff7ea908c80"></span>bool <tt class="descname">operator!=</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a00cc4684fc50e8f706b18552db0b7c1c"></span>bool <tt class="descname">operator&lt;</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1acf523eae2fefa77a02c414668b44ff25"></span>uint32_t <tt class="descname">hash</tt><big>(</big><big>)</big> const</dt>
<dd><p>The hash function for type <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a>. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a6d8cbfe20fa2f0909c7568078540a139"></span>std::string <tt class="descname">to_string</tt><big>(</big><big>)</big> const</dt>
<dd><p>Returns a string representation of the current object&#8217;s values. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a51fddb29af9aa5ec49b99917d0201863"></span><a class="reference internal" href="mpls.html#eossdkclasseos_1_1mpls__label__t"><em>mpls_label_t</em></a> <tt class="descname">label_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a627f7d08edcfa259e5bdc098d74fb353"></span>std::string <tt class="descname">vrf_name_</tt></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1mpls__vrf__label__t_1a6fa1804c72c6ffd97b50272f06451236"></span>friend std::ostream &amp; <tt class="descname">operator&lt;&lt;</tt></dt>
<dd><p>A utility stream operator that adds a string representation of <a class="reference internal" href="#eossdkclasseos_1_1mpls__vrf__label__t"><em>mpls_vrf_label_t</em></a> to the ostream. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>mpls_vrf_label</strong></a><ul>
<li><a class="reference internal" href="#type-definitions-in-mpls-vrf-label">Type definitions in <strong>mpls_vrf_label</strong></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mpls_route.html"
                        title="previous chapter"><strong>mpls_route</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="neighbor_table.html"
                        title="next chapter"><strong>neighbor_table</strong></a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="neighbor_table.html" title="neighbor_table"
             >next</a> |</li>
        <li class="right" >
          <a href="mpls_route.html" title="mpls_route"
             >previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 2.13.0 reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Arista Networks.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>