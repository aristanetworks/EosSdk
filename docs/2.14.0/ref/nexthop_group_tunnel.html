
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nexthop_group_tunnel &mdash; Arista EOS SDK 2.14.0 reference</title>
    
    <link rel="stylesheet" href="_static/eossdk.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Arista EOS SDK 2.14.0 reference" href="index.html" />
    <link rel="next" title="panic" href="panic.html" />
    <link rel="prev" title="nexthop_group" href="nexthop_group.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="panic.html" title="panic"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nexthop_group.html" title="nexthop_group"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 2.14.0 reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nexthop-group-tunnel">
<h1><strong>nexthop_group_tunnel</strong><a class="headerlink" href="#nexthop-group-tunnel" title="Permalink to this headline">¶</a></h1>
<p>Nexthop Group tunnels are a tunneling abstraction in EOS.</p>
<p>A nexthop group tunnel is comprised of a tunnel endpoint (IP prefix) and a nexthop group name representing the underlying nexthop group that forwards the traffic.</p>
<p>The underlying nexthop group must be manually maintained by the agent. If the underlying nexthop group is not configured, the tunnel endpoint will be unreachable until the given nexthop group is configured.</p>
<p>The following example creates a nexthop group tunnel which has an underlying nexthop group &#8220;nhg1&#8221; that performs IP-in-IP encapsulation of traffic sent to it. For a usage of a nexthop group, see the nexthop_group.h file.</p>
<p> <pre class="literal-block">
*   // Specify a tunnel endpoint and a nexthop group name
*   <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>eos::nexthop_group_tunnel_t</em></a> nhg_tunnel(<a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>eos::ip_prefix_t</em></a>(&quot;10.0.0.1/32&quot;), &quot;nhg1&quot;);
*   nexthop_group_tunnel_mgr()-&gt;nexthop_group_tunnel_set(nhg_tunnel);
*   // Configure the underlying nexthop group
*   <a class="reference internal" href="nexthop_group.html#eossdkclasseos_1_1nexthop__group__t"><em>eos::nexthop_group_t</em></a> nhg(&quot;nhg1&quot;, eos::NEXTHOP_GROUP_IP_IN_IP);
*   <a class="reference internal" href="nexthop_group.html#eossdkclasseos_1_1nexthop__group__entry__t"><em>eos::nexthop_group_entry_t</em></a> nhe1(<a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>eos::ip_addr_t</em></a>(&quot;172.12.1.1&quot;));
*   nhg.nexthop_set(0, nhe1);
*   nexthop_group_mgr()-&gt;nexthop_set(nhg1);
* 
</pre>
</p>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__handler"></span><em>class</em> <tt class="descname">nexthop_group_tunnel_handler</tt></dt>
<dd><em>#include &lt;nexthop_group_tunnel.h&gt;</em><p>The nexthop group tunnel handler. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__handler_1ad20c424555b4fed9ed7d2ff102bb0287"></span><tt class="descname">nexthop_group_tunnel_handler</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__mgr"><em>nexthop_group_tunnel_mgr</em></a> *<big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__handler_1ae275454d3355415004d57c733189d539"></span><a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__mgr"><em>nexthop_group_tunnel_mgr</em></a> * <tt class="descname">get_nexthop_group_tunnel_mgr</tt><big>(</big><big>)</big> const</dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__iter__t"></span><em>class</em> <tt class="descname">nexthop_group_tunnel_iter_t</tt></dt>
<dd><em>#include &lt;nexthop_group_tunnel.h&gt;</em><p>An iterator over configured nexthop group tunnel. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__iter__t_1abefcc5e28288133f17a7ea42e520742f"></span><tt class="descname">nexthop_group_tunnel_iter_t</tt><big>(</big>nexthop_group_tunnel_iter_impl * <em>const</em><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__iter__t_1a80f675f8d02e4a07b02e4309dba52d9d"></span>friend class <tt class="descname">nexthop_group_tunnel_iter_impl</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr"></span><em>class</em> <tt class="descname">nexthop_group_tunnel_mgr</tt></dt>
<dd><em>#include &lt;nexthop_group_tunnel.h&gt;</em><p>The nexthop group tunnel manager. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1ae0ba6cc20eabd0626b9a81245477432e"></span>virtual <tt class="descname">~nexthop_group_tunnel_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a93a29034bc2b8546f849a4998839eb49"></span>virtual void <tt class="descname">resync_init</tt><big>(</big><big>)</big> = 0</dt>
<dd><p>Begin resync mode. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a5cdf0aa60ce8a28ed9d66baac51a06b5"></span>virtual void <tt class="descname">resync_complete</tt><big>(</big><big>)</big> = 0</dt>
<dd><p>Complete resync mode, ready for regular updates. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a926f5266aed7a9c45ed0d10997939b5c"></span>virtual <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__iter__t"><em>nexthop_group_tunnel_iter_t</em></a> <tt class="descname">nexthop_group_tunnel_iter</tt><big>(</big><big>)</big> const = 0</dt>
<dd><p>Returns an iterator over configured nexthop group tunnel. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1afdda56db3768e3a68a7308a3633a3acc"></span>virtual <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> <tt class="descname">nexthop_group_tunnel</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> const &amp; <em>tunnel_endpoint</em><big>)</big> const = 0</dt>
<dd><p>Retrieves an existing <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> by tunnel endpoint, if it exists. Otherwise this returns an empty <tt class="docutils literal"><span class="pre">nexthop_group_tunnel_t()</span></tt> </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1adb3e02d1019b8dad4f868f8a283013d4"></span>virtual bool <tt class="descname">exists</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> const &amp; <em>tunnel_endpoint</em><big>)</big> const = 0</dt>
<dd><p>Returns true if a nexthop group tunnel with the given tunnel endpoint has been configured. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1adbafa617ebf413b8a3f6a417ef5cf55e"></span>virtual void <tt class="descname">nexthop_group_tunnel_set</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> const &amp;<big>)</big> = 0</dt>
<dd><p>Creates or updates a nexthop group tunnel. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a38d74d8a3665e7e8e2e644320105f95b"></span>virtual void <tt class="descname">nexthop_group_tunnel_del</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> const &amp; <em>tunnel_endpoint</em><big>)</big> = 0</dt>
<dd><p>Removes the nexthop group tunnel with the given tunnel endpoint if exists. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a23f1eb64e94092bbc1827cdf1ff367c9"></span><tt class="descname">nexthop_group_tunnel_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1ac94d47fc5860f2fd4d8d1cae3e4c2622"></span><tt class="descname">nexthop_group_tunnel_mgr</tt></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__mgr_1a8a46c124ebf5001c44a0feae2ecb404b"></span>friend class <tt class="descname">nexthop_group_tunnel_handler</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<div class="section" id="type-definitions-in-nexthop-group-tunnel">
<h2>Type definitions in <strong>nexthop_group_tunnel</strong><a class="headerlink" href="#type-definitions-in-nexthop-group-tunnel" title="Permalink to this headline">¶</a></h2>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t"></span><em>class</em> <tt class="descname">nexthop_group_tunnel_t</tt></dt>
<dd><em>#include &lt;nexthop_group_tunnel.h&gt;</em><p>An IP nexthop group tunnel.</p>
<p>An IP nexthop group tunnel represents a tunnel over a nexthop-group. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a906679085ad7780c6fbf5dcb0311d58f"></span><tt class="descname">nexthop_group_tunnel_t</tt><big>(</big><big>)</big></dt>
<dd><p>Default constructor. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1ade4cea487ab3eec05d5c580629c44764"></span><tt class="descname">nexthop_group_tunnel_t</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> const &amp; <em>tunnel_endpoint</em>, std::string const &amp; <em>nhg_name</em><big>)</big></dt>
<dd><p>Creates an ip nexthop group tunnel for a given tunnel endpoint prefix and nexthop-group. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1ac61f9ebb1414e722544a06251e6b019c"></span><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> <tt class="descname">tunnel_endpoint</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;tunnel_endpoint&#8217;: IP v4/v6 prefix. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a7d7094013a24721aba0b107ba9ea49bf"></span>void <tt class="descname">tunnel_endpoint_is</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> const &amp; <em>tunnel_endpoint</em><big>)</big></dt>
<dd><p>Setter for &#8216;tunnel_endpoint&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a705c4ec64463f0a9c492af192da4bc0c"></span>std::string <tt class="descname">nhg_name</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;nhg_name&#8217;: nexthop group name. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1acf022c30026fc4d260a30b509eb96483"></span>void <tt class="descname">nhg_name_is</tt><big>(</big>std::string const &amp; <em>nhg_name</em><big>)</big></dt>
<dd><p>Setter for &#8216;nhg_name&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a97e400cb5556af0c7d08f95f7edba905"></span>uint8_t <tt class="descname">igp_pref</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;igp_pref&#8217;: the IGP preference of the tunnel endpoint. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1ac85f990c86add7a6e8ce6fafb609ea4f"></span>void <tt class="descname">igp_pref_is</tt><big>(</big>uint8_t <em>igp_pref</em><big>)</big></dt>
<dd><p>Setter for &#8216;igp_pref&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a3c4f30faf521abe2428dcc7f94602fa8"></span>uint32_t <tt class="descname">igp_metric</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;igp_metric&#8217;: the IGP metric of the tunnel endpoint. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a15b56d0778781da4261b55d693990cec"></span>void <tt class="descname">igp_metric_is</tt><big>(</big>uint32_t <em>igp_metric</em><big>)</big></dt>
<dd><p>Setter for &#8216;igp_metric&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1afd6ded1a01d8be069769bf8de7108a11"></span>bool <tt class="descname">operator==</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1ac987983682b9f6abd87b5bd523d7c496"></span>bool <tt class="descname">operator!=</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1afdd210c7c8ad5b87dadcdbf7091b0b88"></span>uint32_t <tt class="descname">hash</tt><big>(</big><big>)</big> const</dt>
<dd><p>The hash function for type <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a>. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a66d2b4a69469001f33ac4aac2e2d7ce5"></span>std::string <tt class="descname">to_string</tt><big>(</big><big>)</big> const</dt>
<dd><p>Returns a string representation of the current object&#8217;s values. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1aa3fa705ab8f10ec7882bd73d6463ec73"></span><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__prefix__t"><em>ip_prefix_t</em></a> <tt class="descname">tunnel_endpoint_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a0e5fecdf07c6b4225c89f865712d5e51"></span>std::string <tt class="descname">nhg_name_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1adb636c06f5349f16a4047af64a651de6"></span>uint8_t <tt class="descname">igp_pref_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1a3ccee2ffb7623e9ef975bf7ce68a8ff3"></span>uint32_t <tt class="descname">igp_metric_</tt></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1nexthop__group__tunnel__t_1abb20454411cbcb78436604f2339be687"></span>friend std::ostream &amp; <tt class="descname">operator&lt;&lt;</tt></dt>
<dd><p>A utility stream operator that adds a string representation of <a class="reference internal" href="#eossdkclasseos_1_1nexthop__group__tunnel__t"><em>nexthop_group_tunnel_t</em></a> to the ostream. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>nexthop_group_tunnel</strong></a><ul>
<li><a class="reference internal" href="#type-definitions-in-nexthop-group-tunnel">Type definitions in <strong>nexthop_group_tunnel</strong></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="nexthop_group.html"
                        title="previous chapter"><strong>nexthop_group</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="panic.html"
                        title="next chapter"><strong>panic</strong></a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="panic.html" title="panic"
             >next</a> |</li>
        <li class="right" >
          <a href="nexthop_group.html" title="nexthop_group"
             >previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 2.14.0 reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Arista Networks.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>